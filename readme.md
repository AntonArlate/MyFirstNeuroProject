# Задача: Идея основана на оптимизации производственных цепочек для игр жанра "factory game" в условиях альтернативных путей от сырья до продукции. Нейронка должна получать потоки ресурсов и распределить их по производственным цепочкам так чтобы получить оптимальное количество продукции в целевом соотношении. В идеале реализовать подбор эффективности для максимального КПД использования ресурсов.

1. * Создать простейшую нейросеть: На склады поступают ресурсы с разной скоростью. Надо распределить ресурсы по заранее готовым выходам. Для начала на 1 ресурс 1 выход. Скорость считать будем по циклам выполнения.
    * в neural_init и weight_init также реализовать добавление выходных нейронов. Также weight_init можно запускать автоматом после нейронов
    * Разобраться как правильно подавать большие (>1) значения

2. * 31.10.2022: Уточнение к первой задаче - Она должна послать команду на in_stores в которой сказано сколько было взято ресурса для одного из складов out. Значения выходных нейронов бедет определять % от всех in. Для теста возьмём условие что брать можно чуть больше поступления. А склады out будут опусташаться чуть быстрее максимально возможной скорости наполнения. В результате мы придём к частичной финализации - отслежыванию баланса на in складах. 
    * Выявлена ошибка, все выходные нейроны будут просто считать свой поток, а в данный момент это один ресурс. Нужно уже на данном этапе разбить потоки
    * добавим 2 склада out на один ресурс с разным коофициентом

3. * Реализовать вычисление ошибки. На текущий момент программа принимает потоки и добавляет их на in. Пропускает через прямое распространение. Разбивает потоки на большее количество частей на выходе, добавляя соответствующие нейроны. Считает относительные коофициенты на нейронах ответственных за части одного потока. Вычитает из in и добавляет на out указанное нейронами значние.

4. * 01.11.2022: добрался до обучения. Нужно разделить матрицу значений нейронов и их ошибки, так как для обучения нужно и то и другое.

5. * 05.11.2022: перцептрон готов. Требуется генератор данных и пересчёт ошибок. Заводы попробовать на основе ООП описать.

6. * 07.11.2022: рефакторинг (программа 2 не закончена)

7. * 12.11.2022: добавлена возможность ввода нейронов смещения. Эксперементирую с UI. Программа 2 не закончена

8. * 09.12.2022: Закончена основа. Выполнена первичная цель.
    * известные ошибки: 
    1. Не может считать несколько выходов продукции. Также врятли будет работать со значениями выхода !=1. Вероятное решение: есть распределение out store по ошибкам заводов. Нужно придумать как пересчитать распределение учитывая несколько разных выводов.
    2. Не работает с циклами (если один завод производит сырьё для другого). Вероятное решение: связывавать одноимённые входы и выходы. При этом потребуется возможно изменить правила для подобных связей.
    3. Нет расчёта кпд (не учитывает эффективность).
    4. Вероятно веса стремятся к нулю. Известная проблема нейросетей, можно решить.
    5. Возможны ситуации получения значений в складах <0 особенно при создании потребления продукции.
    6. Нет эффекта памяти и пропуска циклов самообучения.

git remote add origin https://github.com/AntonArlate/MyFirstNeuroProject.git

## инструкция и навигация:

### На данный момент есть 3 точки входа:

1. [start_1.py](start_1.py) - Устаревший проект до рефакторинга. Умеет балансить только входы и имеет много математических багов. Подлежит удалению, но требуется аккуратная чистка связанных модулей.
2. [start_2.py](start_2.py) - Последняя вариация программы. Иницализирует 2 потока. Один на UI. Второй на переодичекий запуск итераций сети. Зfdthiftncz с закрытием UI.
3. [aaa.ipynb](aaa.ipynb) -  Jupyter-ноутбук в целом повторяющий точку входа start_2.py. Но с возможностью управляемого запуска потоков.

### важные переменные и элементы:
* [program_2\factory_config.py](program_2\factory_config.py) - 
    + здесь инициализируется тестовый набор фабрик.
    + mine = скорость добычи.
* [neural_network_v2\network.py](neural_network_v2\network.py) - 
    + neural_matrix_init = схема скрытых слоёв нейросети
    + bias_map = Схема на каких слоях присутствует нейрон смещения
    + activationF = функция активации.
        - [neural_network_v2\learning.py](neural_network_v2\learning.py) derivativeF = производная функции активации.